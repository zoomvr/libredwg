/* -*- c -*- */
/*****************************************************************************/
/*  LibreDWG - free implementation of the DWG file format                    */
/*                                                                           */
/*  Copyright (C) 2018-2020 Free Software Foundation, Inc.                   */
/*                                                                           */
/*  This library is free software, licensed under the terms of the GNU       */
/*  General Public License as published by the Free Software Foundation,     */
/*  either version 3 of the License, or (at your option) any later version.  */
/*  You should have received a copy of the GNU General Public License        */
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.    */
/*****************************************************************************/

/*
 * classes.inc: the dynamic class dispatcher
 * for all types > 500
 * written by Reini Urban
 */

/**
 * Variable-typed classes and its stability
 */

#ifndef ACTION
# error ACTION define missing: decode, encode, dxf, indxf, print, free, ...
#endif

#define _XSTR(s) _STR(s)
#define _STR(s)  #s

#define WARN_UNHANDLED_CLASS \
      LOG_WARN ("Unhandled Class %s %d %s (0x%x%s) %u/%lX", is_entity ? "entity" : "object",\
               klass->number, klass->dxfname, klass->proxyflag,\
               klass->is_zombie ? "is_zombie" : "",\
               obj->index, obj->handle.value)
#define WARN_UNSTABLE_CLASS \
      LOG_WARN ("Unstable Class %s %d %s (0x%x%s) %u/%lX", is_entity ? "entity" : "object",\
               klass->number, klass->dxfname, klass->proxyflag,\
               klass->is_zombie ? "is_zombie" : "",\
               obj->index, obj->handle.value)
#if defined(IS_FREE) || defined(IS_PRINT)
# undef WARN_UNSTABLE_CLASS
# undef WARN_UNHANDLED_CLASS
# define WARN_UNSTABLE_CLASS
# define WARN_UNHANDLED_CLASS
#endif

#define DISALLOW_DXF(action, _name) \
  (strEQc (_STR(action), "dxf")) ? DWG_ERR_NOTYETSUPPORTED :
#define ALLOW_DXF(action, _name)

#ifdef DEBUG_CLASSES
# define DEBUGGING_DXF(action, name)                 ALLOW_DXF(action, name)
# define DEBUGGING_CLASS(action, name)               UNSTABLE_CLASS(action, name)
# define DEBUGGING_CLASS_DXF(action, name, _dxfname) UNSTABLE_CLASS_DXF(action, name, _dxfname)
# define DEBUGGING_CLASS_CPP(action, name, _cppname) UNSTABLE_CLASS_CPP(action, name, _cppname)
#else
# define DEBUGGING_DXF(action, name)                 DISALLOW_DXF(action, name)
# define DEBUGGING_CLASS(action, name)               UNHANDLED_CLASS(action, name)
# define DEBUGGING_CLASS_DXF(action, name, _dxfname) UNHANDLED_CLASS_DXF(action, name, _dxfname)
# define DEBUGGING_CLASS_CPP(action, name, _cppname) UNHANDLED_CLASS_CPP(action, name, _cppname)
#endif

//#define _DWG_FUNC_N(action,name) dwg_ ## action ## _ ## name
//#define DWG_FUNC_N(action,name) _DWG_FUNC_N(action,name)

#define STABLE_CLASS(action, _name) \
  if (klass->dxfname && strEQc (klass->dxfname, #_name)) \
    { \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_name; \
        obj->fixedtype = DWG_TYPE_##_name; \
      } \
      return DWG_FUNC_N(action,_name) (dat, obj); \
    }
#define STABLE_CLASS_DXF(action, _name, _dxfname) \
  if (klass->dxfname && strEQc (klass->dxfname, #_dxfname)) \
    { \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_dxfname; \
        obj->fixedtype = DWG_TYPE_##_name; \
      } \
      return DWG_FUNC_N(action,_name) (dat, obj); \
    }
#define STABLE_CLASS_CPP(action, _name, _cppname) \
  if (klass->cppname && strEQc (klass->cppname, #_name)) \
    { \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_name; \
        obj->fixedtype = DWG_TYPE_##_name; \
      } \
      return DWG_FUNC_N(action,_name) (dat, obj); \
    }
#define UNSTABLE_CLASS(action, _name) \
  if (klass->dxfname && strEQc (klass->dxfname, #_name)) \
    { \
      WARN_UNSTABLE_CLASS; \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_name; \
        obj->fixedtype = DWG_TYPE_##_name; \
      } \
      return DEBUGGING_DXF(action, name) DWG_FUNC_N(action,_name) (dat, obj); \
    }
#define UNSTABLE_CLASS_DXF(action, _name, _dxfname) \
  if (klass->dxfname && strEQc (klass->dxfname, #_dxfname)) \
    { \
      WARN_UNSTABLE_CLASS; \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_dxfname; \
        obj->fixedtype = DWG_TYPE_##_name; \
      } \
      return DEBUGGING_DXF(action, name) DWG_FUNC_N(action,_name) (dat, obj); \
    }
#define UNSTABLE_CLASS_CPP(action, _name, _cppname) \
  if (klass->cppname && strEQc (klass->cppname, #_cppname)) \
    { \
      WARN_UNSTABLE_CLASS; \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_name; \
        obj->fixedtype = DWG_TYPE_##_name; \
      } \
      return DEBUGGING_DXF(action, name) DWG_FUNC_N(action,_name) (dat, obj); \
    }
#define UNHANDLED_CLASS(action, _name) \
  if (klass->dxfname && strEQc (klass->dxfname, #_name)) \
    { \
      WARN_UNHANDLED_CLASS; \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_name; \
      } \
      return DWG_ERR_UNHANDLEDCLASS; \
    }
#define UNHANDLED_CLASS_DXF(action, _name, _dxfname) \
  if (klass->dxfname && strEQc (klass->dxfname, #_dxfname)) \
    { \
      WARN_UNHANDLED_CLASS; \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_dxfname; \
      } \
      return DWG_ERR_UNHANDLEDCLASS; \
    }
#define UNHANDLED_CLASS_CPP(action, _name, _cppname) \
  if (klass->cppname && strEQc (klass->cppname, #_cppname)) \
    { \
      WARN_UNHANDLED_CLASS; \
      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
        obj->name = (char*) #_name; \
        obj->dxfname = (char*) #_name; \
      } \
      return DWG_ERR_UNHANDLEDCLASS; \
    }

  /* Entities */
  STABLE_CLASS    (ACTION, CAMERA)    /*ent, not persistent in a DWG */
  STABLE_CLASS    (ACTION, IMAGE)     /*ent*/
  STABLE_CLASS    (ACTION, OLE2FRAME) /*ent (also fixed) */
  STABLE_CLASS_DXF(ACTION, UNDERLAY, PDFUNDERLAY)
  STABLE_CLASS_DXF(ACTION, UNDERLAY, DGNUNDERLAY)
  STABLE_CLASS_DXF(ACTION, UNDERLAY, DWFUNDERLAY)
  STABLE_CLASS    (ACTION, WIPEOUT)   /*ent*/

  /* Objects */
  STABLE_CLASS    (ACTION, DICTIONARYVAR)
  STABLE_CLASS_DXF(ACTION, DICTIONARYWDFLT, ACDBDICTIONARYWDFLT)
  STABLE_CLASS    (ACTION, FIELD)
  STABLE_CLASS    (ACTION, FIELDLIST)
  STABLE_CLASS    (ACTION, GROUP)
  STABLE_CLASS    (ACTION, HATCH)
  STABLE_CLASS    (ACTION, IDBUFFER)
  STABLE_CLASS    (ACTION, IMAGEDEF)
  STABLE_CLASS    (ACTION, IMAGEDEF_REACTOR)
  STABLE_CLASS    (ACTION, LAYER_INDEX)
  STABLE_CLASS    (ACTION, LAYOUT) // TODO bottom_margin nan
  STABLE_CLASS    (ACTION, LWPOLYLINE)
  STABLE_CLASS    (ACTION, MLEADERSTYLE) // TODO block_rotation nan
  STABLE_CLASS    (ACTION, OBJECTCONTEXTDATA)
  STABLE_CLASS_CPP(ACTION, OBJECTCONTEXTDATA, AcDbObjectContextData)
  STABLE_CLASS_DXF(ACTION, PLACEHOLDER, ACDBPLACEHOLDER)
  STABLE_CLASS    (ACTION, RASTERVARIABLES)
  STABLE_CLASS    (ACTION, SCALE)
  STABLE_CLASS    (ACTION, SORTENTSTABLE)
  STABLE_CLASS    (ACTION, SPATIAL_FILTER)
  STABLE_CLASS    (ACTION, SPATIAL_INDEX)
  STABLE_CLASS    (ACTION, UNDERLAY)              /* ent DGN DWF PDF */
  STABLE_CLASS    (ACTION, UNDERLAYDEFINITION) //only tested pdf, but very simple
  STABLE_CLASS_DXF(ACTION, UNDERLAYDEFINITION, PDFDEFINITION)
  STABLE_CLASS_DXF(ACTION, UNDERLAYDEFINITION, DGNDEFINITION)
  STABLE_CLASS_DXF(ACTION, UNDERLAYDEFINITION, DWFDEFINITION)
  STABLE_CLASS    (ACTION, WIPEOUTVARIABLES)
  STABLE_CLASS    (ACTION, XRECORD)

  // unstable/undertested.
  // not enough coverage, but assumed mostly ok. field names may change.
  // DXF output skipped
  UNSTABLE_CLASS     (ACTION, MULTILEADER)  /* ent */
  UNSTABLE_CLASS_DXF (ACTION, ASSOCDEPENDENCY, ACDBASSOCDEPENDENCY)
  UNSTABLE_CLASS_DXF (ACTION, ASSOCPLANESURFACEACTIONBODY, ACDBASSOCPLANESURFACEACTIONBODY)
  UNSTABLE_CLASS     (ACTION, DIMASSOC)
  UNSTABLE_CLASS     (ACTION, DBCOLOR)
  UNSTABLE_CLASS_DXF (ACTION, DYNAMICBLOCKPURGEPREVENTER, ACDB_DYNAMICBLOCKPURGEPREVENTER_VERSION)
  UNSTABLE_CLASS     (ACTION, GEODATA)
  UNSTABLE_CLASS     (ACTION, HELIX)             /*ent */
  UNSTABLE_CLASS     (ACTION, LIGHT)             /*ent */
  UNSTABLE_CLASS     (ACTION, OBJECT_PTR)
  UNSTABLE_CLASS_CPP (ACTION, OBJECT_PTR, CAseDLPNTableRecord)
  UNSTABLE_CLASS_DXF (ACTION, PROXY_OBJECT, PROXY)
  UNSTABLE_CLASS_DXF (ACTION, PERSSUBENTMANAGER, ACDBPERSSUBENTMANAGER)
  UNSTABLE_CLASS     (ACTION, VISUALSTYLE)
  UNSTABLE_CLASS     (ACTION, TABLESTYLE)        // pre-r2010 only

  // coverage exists, but broken and being worked on. needs -DDEBUG_CLASSES. See also
  // examples/unknown with all the unknown blobs of these.
  // PROXY_ENTITY has a fixed type
  // DXF output skipped, but some INDXF are done.
  DEBUGGING_CLASS     (ACTION, GEOPOSITIONMARKER) /*ent, yet unsorted. no coverage */
  DEBUGGING_CLASS     (ACTION, PLANESURFACE)      /*ent */
  DEBUGGING_CLASS     (ACTION, EXTRUDEDSURFACE)   /*ent */
  DEBUGGING_CLASS     (ACTION, LOFTEDSURFACE)     /*ent */
  DEBUGGING_CLASS     (ACTION, REVOLVEDSURFACE)   /*ent */
  DEBUGGING_CLASS     (ACTION, SWEPTSURFACE)      /*ent */
  DEBUGGING_CLASS_DXF (ACTION, TABLE, ACAD_TABLE) /*ent, r2010+ needs subclassing */
  DEBUGGING_CLASS     (ACTION, ARC_DIMENSION)     /*ent */
  DEBUGGING_CLASS_CPP (ACTION, TABLECONTENT, AcDbTableContent) // dxfname: "TABLE"
  DEBUGGING_CLASS     (ACTION, TABLEGEOMETRY) //wrong geom_data
  DEBUGGING_CLASS     (ACTION, CELLSTYLEMAP) //broken
  DEBUGGING_CLASS     (ACTION, MATERIAL)     //working on
  DEBUGGING_CLASS     (ACTION, PLOTSETTINGS) //yet unsorted
  DEBUGGING_CLASS     (ACTION, SUN)          //90%
  DEBUGGING_CLASS     (ACTION, SUNSTUDY)     //almost
  DEBUGGING_CLASS     (ACTION, VBA_PROJECT)  //Has its own section?
  DEBUGGING_CLASS     (ACTION, ACSH_SWEEP_CLASS) //SWEEPOPTIONS?
  DEBUGGING_CLASS     (ACTION, GEOMAPIMAGE)  // LiveMap image overlay
  DEBUGGING_CLASS_DXF (ACTION, NAVISWORKSMODELDEF, ACDBNAVISWORKSMODELDEF)
  DEBUGGING_CLASS_DXF (ACTION, ASSOCACTION, ACDBASSOCACTION)
  DEBUGGING_CLASS_DXF (ACTION, ASSOCNETWORK, ACDBASSOCNETWORK) /* very close */
  DEBUGGING_CLASS_DXF (ACTION, ASSOCALIGNEDDIMACTIONBODY, ACDBASSOCALIGNEDDIMACTIONBODY)
  DEBUGGING_CLASS_DXF (ACTION, ASSOCOSNAPPOINTREFACTIONPARAM, ACDBASSOCOSNAPPOINTREFACTIONPARAM)
  DEBUGGING_CLASS_DXF (ACTION, ASSOCPERSSUBENTMANAGER, ACDBASSOCPERSSUBENTMANAGER)
  DEBUGGING_CLASS_DXF (ACTION, ASSOC2DCONSTRAINTGROUP, ACDBASSOC2DCONSTRAINTGROUP)
  DEBUGGING_CLASS_DXF (ACTION, EVALUATION_GRAPH, ACAD_EVALUATION_GRAPH) /* almost */
  DEBUGGING_CLASS     (ACTION, MESH)
  DEBUGGING_CLASS     (ACTION, RENDERENVIRONMENT) //no coverage
  DEBUGGING_CLASS     (ACTION, RENDERGLOBAL)      //no coverage

  // unimplemented, passed through. coverage exists mostly, but documentation not.
  // DXF output skipped
  UNHANDLED_CLASS     (ACTION, ACSH_HISTORY_CLASS)
  UNHANDLED_CLASS     (ACTION, ARCALIGNEDTEXT)
  UNHANDLED_CLASS_DXF (ACTION, ASSOCGEOMDEPENDENCY, ACDBASSOCGEOMDEPENDENCY)
  UNHANDLED_CLASS_DXF (ACTION, ASSOCOSNAPPOINTREFACTIONPARAM, ACDBASSOCOSNAPPOINTREFACTIONPARAM)
  UNHANDLED_CLASS_DXF (ACTION, ASSOCVERTEXACTIONPARAM, ACDBASSOCVERTEXACTIONPARAM)
  UNHANDLED_CLASS     (ACTION, DATATABLE)
  UNHANDLED_CLASS_DXF (ACTION, DETAILVIEWSTYLE, ACDBDETAILVIEWSTYLE)
  UNHANDLED_CLASS_DXF (ACTION, DOCUMENTOPTIONS, CSACDOCUMENTOPTIONS)
  UNHANDLED_CLASS     (ACTION, LAYER_FILTER)
  UNHANDLED_CLASS     (ACTION, LAYOUTPRINTCONFIG)
  UNHANDLED_CLASS_DXF (ACTION, LEADEROBJECTCONTEXTDATA, ACDB_LEADEROBJECTCONTEXTDATA_CLASS)
  UNHANDLED_CLASS     (ACTION, LIGHTLIST)
  UNHANDLED_CLASS     (ACTION, NPOCOLLECTION)
  UNHANDLED_CLASS_DXF (ACTION, POINTCLOUD, ACDBPOINTCLOUD)
  UNHANDLED_CLASS     (ACTION, MENTALRAYRENDERSETTINGS) //no coverage
  UNHANDLED_CLASS     (ACTION, RAPIDRTRENDERENVIRONMENT) //no coverage
  UNHANDLED_CLASS     (ACTION, RAPIDRTRENDERSETTINGS) //no coverage
  UNHANDLED_CLASS_DXF (ACTION, POINTCLOUDEX, ACDBPOINTCLOUDEX)
  UNHANDLED_CLASS     (ACTION, RTEXT)
  UNHANDLED_CLASS_DXF (ACTION, SECTIONVIEWSTYLE, ACDBSECTIONVIEWSTYLE)
  UNHANDLED_CLASS_DXF (ACTION, XREFPANELOBJECT, EXACXREFPANELOBJECT)
  //??
  UNHANDLED_CLASS_DXF (ACTION, ANNOTSCALEOBJECTCONTEXTDATA, ACDB_MLEADEROBJECTCONTEXTDATA_CLASS)
  UNHANDLED_CLASS_DXF (ACTION, ANNOTSCALEOBJECTCONTEXTDATA, ACDB_MTEXTOBJECTCONTEXTDATA_CLASS)
  UNHANDLED_CLASS_DXF (ACTION, TERMXREFMAP, EXACTERMXREFMAP) // ExAcTermXrefMap
  UNHANDLED_CLASS     (ACTION, AEC_VARS_DWG_SETUP)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_MASS_GROUP_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_MASS_GROUP)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_MASS_ELEM_SCHEM)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_MASS_ELEM_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_MASS_GROUP_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_MASS_ELEM_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_DOOR_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_DOOR)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_2D_SECTION)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_2D_SECTION)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_CLIP_VOLUME)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_CLIP_VOLUME_RESULT)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_DISPLAYTHEME)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_EDITINPLACEPROFILE_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_ENT)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_ENT_REF)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_LAYOUT_CURVE)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_LAYOUT_GRID2D)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_MASKBLOCK)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_ROOFSLAB)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_SLAB)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_SLICE)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_SPACE_DECOMPOSED)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_SPACE_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_STAIR_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_STAIR_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_STAIR_PLAN_OVERLAPPING)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WALL_GRAPH)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WALL_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WALL_SCHEM)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WINDOW)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WINDOW_ASSEMBLY_SILL_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WINDOW_NOMINAL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WINDOW_PLAN_100)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WINDOW_PLAN_50)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_PROPS_WINDOW_SILL_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ANCHOR)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ANCHOR_ENT_TO_NODE)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ANCHOR_EXT_TAG_TO_ENT)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ANCHOR_TAG_TO_ENT)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_CLIP_VOLUME_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_CLIP_VOLUME_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_CLIP_VOLUME_RESULT)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_CLIP_VOLUME_RESULT_SUBDIV)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_CONFIG)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_DISPLAYTHEME)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_EDITINPLACEPROFILE)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ENT_REF)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_LAYOUT_CURVE)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_LAYOUT_GRID2D)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_MASKBLOCK_REF)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_MATERIAL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_MVBLOCK_REF_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_RAILING_PLAN_100)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_RAILING_PLAN_50)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ROOFSLAB_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ROOF_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_ROOF_RCP)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_SET)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_SLAB_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_SLICE)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_SPACE_DECOMPOSED)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_SPACE_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_SPACE_RCP)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_SPACE_VOLUME)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_STAIR_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_STAIR_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_STAIR_PLAN_100)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_STAIR_PLAN_50)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_STAIR_PLAN_OVERLAPPING)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_STAIR_RCP)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WALL_GRAPH)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WALL_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WALL_RCP)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WALL_SCHEM)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOWASSEMBLY_SILL_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_ASSEMBLY_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_ELEV)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_MODEL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_NOMINAL)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_PLAN_100)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_PLAN_50)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_RCP)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_REP_WINDOW_SILL_PLAN)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_ROPS_RAILING_PLAN_100)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_ROPS_RAILING_PLAN_50)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_ROPS_STAIR_PLAN_100)
  UNHANDLED_CLASS     (ACTION, AEC_DISP_ROPS_STAIR_PLAN_50)

/* Missing DXF names:
  ACSH_BOX_CLASS
  ACAD_PROXY_ENTITY ARRAY
  GEOMAPIMAGE
  CENTERMARK CENTERLINE (since 2017, AcDbBlockReferences)
  INSERT: ATTDYNBLOCKREF ATTBLOCKREF ATTDYNBLOCKREF BLOCKREF DYNBLOCKREF XREF
  SECTIONOBJECT
  AECS_DISP_PROPS_MEMBER AECS_DISP_PROPS_MEMBER_LOGICAL
  AECS_DISP_PROPS_MEMBER_PLAN AECS_DISP_PROPS_MEMBER_PLAN_SKETCH
  AECS_DISP_PROPS_MEMBER_PROJECTED AECS_DISP_REP_MEMBER_ELEVATION_DESIGN
  AECS_DISP_REP_MEMBER_ELEVATION_DETAIL AECS_DISP_REP_MEMBER_LOGICAL
  AECS_DISP_REP_MEMBER_MODEL_DESIGN AECS_DISP_REP_MEMBER_MODEL_DETAIL
  AECS_DISP_REP_MEMBER_PLAN_DESIGN AECS_DISP_REP_MEMBER_PLAN_DETAIL
  AECS_DISP_REP_MEMBER_PLAN_SKETCH AEC_AECDBDISPREPBDGELEVLINEPLAN100
  AEC_AECDBDISPREPBDGELEVLINEPLAN50
  AEC_AECDBDISPREPBDGSECTIONLINEPLAN100
  AEC_AECDBDISPREPBDGSECTIONLINEPLAN50
  AEC_AECDBDISPREPCEILINGGRIDPLAN100 AEC_AECDBDISPREPCEILINGGRIDPLAN50
  AEC_AECDBDISPREPCOLUMNGRIDPLAN100 AEC_AECDBDISPREPCOLUMNGRIDPLAN50
  AEC_AECDBDISPREPCURTAINWALLLAYOUTPLAN100
  AEC_AECDBDISPREPCURTAINWALLLAYOUTPLAN50
  AEC_AECDBDISPREPCURTAINWALLUNITPLAN100
  AEC_AECDBDISPREPCURTAINWALLUNITPLAN50
  AEC_AECDBDISPREPMVBLOCKREFPLAN100 AEC_AECDBDISPREPMVBLOCKREFPLAN50
  AEC_AECDBDISPREPROOFPLAN100 AEC_AECDBDISPREPROOFPLAN50
  AEC_AECDBDISPREPROOFSLABPLAN100 AEC_AECDBDISPREPROOFSLABPLAN50
  AEC_AECDBDISPREPSLABPLAN100 AEC_AECDBDISPREPSLABPLAN50
  AEC_AECDBDISPREPSPACEPLAN100 AEC_AECDBDISPREPSPACEPLAN50
  AEC_AECDBDISPREPWALLPLAN100 AEC_AECDBDISPREPWALLPLAN50
  AEC_AECDBDISPREPWINDOWASSEMBLYPLAN100
  AEC_AECDBDISPREPWINDOWASSEMBLYPLAN50 AEC_AECDBDISPREPZONE100
  AEC_AECDBDISPREPZONE50 AEC_DB_DISP_REP_DIM_GROUP_PLAN
  AEC_DB_DISP_REP_DIM_GROUP_PLAN100 AEC_DB_DISP_REP_DIM_GROUP_PLAN50
  AEC_DISPREPAECDBDISPREPMASSELEMPLAN100
  AEC_DISPREPAECDBDISPREPMASSELEMPLAN50
  AEC_DISPREPAECDBDISPREPMASSGROUPPLAN100
  AEC_DISPREPAECDBDISPREPMASSGROUPPLAN50
  AEC_DISPREPAECDBDISPREPOPENINGPLAN100
  AEC_DISPREPAECDBDISPREPOPENINGPLAN50
  AEC_DISPREPAECDBDISPREPOPENINGPLANREFLECTED
  AEC_DISPREPAECDBDISPREPOPENINGSILLPLAN AEC_DISPROPSMASSELEMPLANCOMMON
  AEC_DISPROPSMASSGROUPPLANCOMMON AEC_DISPROPSOPENINGPLANCOMMON
  AEC_DISPROPSOPENINGPLANCOMMONHATCHED AEC_DISPROPSOPENINGSILLPLAN
  AEC_DISP_PROPS_2D_SECTION AEC_DISP_PROPS_CLIP_VOLUME
  AEC_DISP_PROPS_CLIP_VOLUME_RESULT AEC_DISP_PROPS_DIM
  AEC_DISP_PROPS_DISPLAYTHEME AEC_DISP_PROPS_DOOR
  AEC_DISP_PROPS_DOOR_NOMINAL AEC_DISP_PROPS_DOOR_PLAN_100
  AEC_DISP_PROPS_DOOR_PLAN_50 AEC_DISP_PROPS_DOOR_THRESHOLD_PLAN
  AEC_DISP_PROPS_DOOR_THRESHOLD_SYMBOL_PLAN
  AEC_DISP_PROPS_EDITINPLACEPROFILE_MODEL AEC_DISP_PROPS_ENT
  AEC_DISP_PROPS_ENT_REF AEC_DISP_PROPS_GRID_ASSEMBLY_MODEL
  AEC_DISP_PROPS_GRID_ASSEMBLY_PLAN AEC_DISP_PROPS_LAYOUT_CURVE
  AEC_DISP_PROPS_LAYOUT_GRID2D AEC_DISP_PROPS_LAYOUT_GRID3D
  AEC_DISP_PROPS_MASKBLOCK AEC_DISP_PROPS_MASS_ELEM_MODEL
  AEC_DISP_PROPS_MASS_GROUP AEC_DISP_PROPS_MATERIAL
  AEC_DISP_PROPS_OPENING AEC_DISP_PROPS_POLYGON_MODEL
  AEC_DISP_PROPS_POLYGON_TRUECOLOUR AEC_DISP_PROPS_RAILING_MODEL
  AEC_DISP_PROPS_RAILING_PLAN AEC_DISP_PROPS_ROOF
  AEC_DISP_PROPS_ROOFSLAB AEC_DISP_PROPS_ROOFSLAB_PLAN
  AEC_DISP_PROPS_SCHEDULE_TABLE AEC_DISP_PROPS_SLAB
  AEC_DISP_PROPS_SLAB_PLAN AEC_DISP_PROPS_SLICE
  AEC_DISP_PROPS_SPACE_DECOMPOSED AEC_DISP_PROPS_SPACE_MODEL
  AEC_DISP_PROPS_SPACE_PLAN AEC_DISP_PROPS_STAIR_MODEL
  AEC_DISP_PROPS_STAIR_PLAN AEC_DISP_PROPS_STAIR_PLAN_OVERLAPPING
  AEC_DISP_PROPS_WALL_GRAPH AEC_DISP_PROPS_WALL_MODEL
  AEC_DISP_PROPS_WALL_PLAN AEC_DISP_PROPS_WALL_SCHEM
  AEC_DISP_PROPS_WINDOW AEC_DISP_PROPS_WINDOW_ASSEMBLY_SILL_PLAN
  AEC_DISP_PROPS_WINDOW_NOMINAL AEC_DISP_PROPS_WINDOW_PLAN_100
  AEC_DISP_PROPS_WINDOW_PLAN_50 AEC_DISP_PROPS_WINDOW_SILL_PLAN
  AEC_DISP_PROPS_ZONE AEC_DISP_REP_2D_SECTION AEC_DISP_REP_ANCHOR
  AEC_DISP_REP_ANCHOR_BUB_TO_GRID AEC_DISP_REP_ANCHOR_BUB_TO_GRID_MODEL
  AEC_DISP_REP_ANCHOR_BUB_TO_GRID_RCP AEC_DISP_REP_ANCHOR_ENT_TO_NODE
  AEC_DISP_REP_ANCHOR_EXT_TAG_TO_ENT AEC_DISP_REP_ANCHOR_TAG_TO_ENT
  AEC_DISP_REP_BDG_ELEVLINE_MODEL AEC_DISP_REP_BDG_ELEVLINE_RCP
  AEC_DISP_REP_BDG_SECTIONLINE_MODEL AEC_DISP_REP_BDG_SECTIONLINE_PLAN
  AEC_DISP_REP_BDG_SECTIONLINE_RCP AEC_DISP_REP_BDG_SECTION_MODEL
  AEC_DISP_REP_BDG_SECTION_SUBDIV AEC_DISP_REP_CEILING_GRID
  AEC_DISP_REP_CEILING_GRID_MODEL AEC_DISP_REP_CEILING_GRID_RCP
  AEC_DISP_REP_CLIP_VOLUME_MODEL AEC_DISP_REP_CLIP_VOLUME_PLAN
  AEC_DISP_REP_CLIP_VOLUME_RESULT AEC_DISP_REP_CLIP_VOLUME_RESULT_SUBDIV
  AEC_DISP_REP_COLUMN_GRID AEC_DISP_REP_COLUMN_GRID_MODEL
  AEC_DISP_REP_COLUMN_GRID_RCP AEC_DISP_REP_CONFIG
  AEC_DISP_REP_CURTAIN_WALL_LAYOUT_MODEL
  AEC_DISP_REP_CURTAIN_WALL_LAYOUT_PLAN
  AEC_DISP_REP_CURTAIN_WALL_UNIT_MODEL
  AEC_DISP_REP_CURTAIN_WALL_UNIT_PLAN AEC_DISP_REP_DISPLAYTHEME
  AEC_DISP_REP_DOOR_ELEV AEC_DISP_REP_DOOR_MODEL
  AEC_DISP_REP_DOOR_NOMINAL AEC_DISP_REP_DOOR_PLAN
  AEC_DISP_REP_DOOR_PLAN_50 AEC_DISP_REP_DOOR_PLAN_HEKTO
  AEC_DISP_REP_DOOR_RCP AEC_DISP_REP_DOOR_THRESHOLD_PLAN
  AEC_DISP_REP_DOOR_THRESHOLD_SYMBOL_PLAN
  AEC_DISP_REP_EDITINPLACEPROFILE AEC_DISP_REP_ENT_REF
  AEC_DISP_REP_LAYOUT_CURVE AEC_DISP_REP_LAYOUT_GRID2D
  AEC_DISP_REP_LAYOUT_GRID3D AEC_DISP_REP_MASKBLOCK_REF
  AEC_DISP_REP_MASKBLOCK_REF_RCP AEC_DISP_REP_MASS_ELEM_MODEL
  AEC_DISP_REP_MASS_ELEM_RCP AEC_DISP_REP_MASS_ELEM_SCHEM
  AEC_DISP_REP_MASS_GROUP_MODEL AEC_DISP_REP_MASS_GROUP_PLAN
  AEC_DISP_REP_MASS_GROUP_RCP AEC_DISP_REP_MATERIAL
  AEC_DISP_REP_MVBLOCK_REF AEC_DISP_REP_MVBLOCK_REF_MODEL
  AEC_DISP_REP_MVBLOCK_REF_RCP AEC_DISP_REP_OPENING
  AEC_DISP_REP_OPENING_MODEL AEC_DISP_REP_POLYGON_MODEL
  AEC_DISP_REP_POLYGON_TRUECOLOUR AEC_DISP_REP_RAILING_MODEL
  AEC_DISP_REP_RAILING_PLAN AEC_DISP_REP_RAILING_PLAN_100
  AEC_DISP_REP_RAILING_PLAN_50 AEC_DISP_REP_ROOFSLAB_MODEL
  AEC_DISP_REP_ROOFSLAB_PLAN AEC_DISP_REP_ROOF_MODEL
  AEC_DISP_REP_ROOF_PLAN AEC_DISP_REP_ROOF_RCP
  AEC_DISP_REP_SCHEDULE_TABLE AEC_DISP_REP_SET AEC_DISP_REP_SLAB_MODEL
  AEC_DISP_REP_SLAB_PLAN AEC_DISP_REP_SLICE
  AEC_DISP_REP_SPACE_DECOMPOSED AEC_DISP_REP_SPACE_MODEL
  AEC_DISP_REP_SPACE_PLAN AEC_DISP_REP_SPACE_RCP
  AEC_DISP_REP_SPACE_VOLUME AEC_DISP_REP_STAIR_MODEL
  AEC_DISP_REP_STAIR_PLAN AEC_DISP_REP_STAIR_PLAN_100
  AEC_DISP_REP_STAIR_PLAN_50 AEC_DISP_REP_STAIR_PLAN_OVERLAPPING
  AEC_DISP_REP_STAIR_RCP AEC_DISP_REP_WALL_GRAPH AEC_DISP_REP_WALL_MODEL
  AEC_DISP_REP_WALL_PLAN AEC_DISP_REP_WALL_RCP AEC_DISP_REP_WALL_SCHEM
  AEC_DISP_REP_WINDOWASSEMBLY_SILL_PLAN
  AEC_DISP_REP_WINDOW_ASSEMBLY_MODEL AEC_DISP_REP_WINDOW_ASSEMBLY_PLAN
  AEC_DISP_REP_WINDOW_ELEV AEC_DISP_REP_WINDOW_MODEL
  AEC_DISP_REP_WINDOW_NOMINAL AEC_DISP_REP_WINDOW_PLAN
  AEC_DISP_REP_WINDOW_PLAN_100 AEC_DISP_REP_WINDOW_PLAN_50
  AEC_DISP_REP_WINDOW_RCP AEC_DISP_REP_WINDOW_SILL_PLAN
  AEC_DISP_REP_ZONE AEC_DISP_ROPS_RAILING_PLAN_100
  AEC_DISP_ROPS_RAILING_PLAN_50 AEC_DISP_ROPS_STAIR_PLAN_100
  AEC_DISP_ROPS_STAIR_PLAN_50 AEC_NOTIFICATION_TRACKER
*/
